resources:
  jobs:
    instacart_etl_v1:
      name: instacart_etl_v1
      tasks:
        - task_key: load_bronze
          spark_python_task:
            python_file: /Workspace/Users/anirban248@live.com/instacart/source_to_bronze.py
          environment_key: Default
        - task_key: load_silver
          depends_on:
            - task_key: load_bronze
          spark_python_task:
            python_file: /Workspace/Users/anirban248@live.com/instacart/bronze_to_silver.py
          environment_key: Default
        - task_key: serve_gold
          depends_on:
            - task_key: load_silver
          spark_python_task:
            python_file: /Workspace/Users/anirban248@live.com/instacart/gold_views.py
          environment_key: Default
      queue:
        enabled: true
      environments:
        - environment_key: Default
          spec:
            client: "3"
      performance_target: PERFORMANCE_OPTIMIZED
